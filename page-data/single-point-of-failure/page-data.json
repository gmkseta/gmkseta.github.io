{"componentChunkName":"component---src-templates-post-jsx","path":"/single-point-of-failure/","result":{"data":{"site":{"siteMetadata":{"title":"Seongjun Kim Blog"}},"markdownRemark":{"id":"75217705-7603-5d83-8492-2112ee48b14b","excerpt":"단일 장애 지점(Single Point Of Failure)이란? 시스템 구성 요소 중에서, 동작하지 않으면 전체 시스템이 중단되는 요소를 말한다. 이중화가 되어있지 않은 요소라면 SPOF일 가능성이 높다. 장애회복성을 위해서 SPOF가 없어야한다. SPOF의 예시 단일 서버 하나의 API 서버에 하나의 DB 서버를 사용하고 있는 상황\n API 서버에 장…","html":"<h2>단일 장애 지점(Single Point Of Failure)이란?</h2>\n<ul>\n<li>시스템 구성 요소 중에서, 동작하지 않으면 전체 시스템이 중단되는 요소를 말한다.</li>\n<li>이중화가 되어있지 않은 요소라면 SPOF일 가능성이 높다.</li>\n<li>장애회복성을 위해서 SPOF가 없어야한다.</li>\n</ul>\n<h2>SPOF의 예시</h2>\n<ul>\n<li>\n<p>단일 서버</p>\n<ul>\n<li>하나의 API 서버에 하나의 DB 서버를 사용하고 있는 상황\n<span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;'>\n      <a class='gatsby-resp-image-link' href='/static/c24ad1d9dfaed148b1ee8f541eeaef2b/06066/2022-01-25-19-23-17.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 23.52941176470588%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAAAsTAAALEwEAmpwYAAABGUlEQVQY0z1QzUrDQBjMWwiV/Gx2s83mp2mTmqRiLU0hhaL0VhA8qhUED3rSmz32IdqX8CF8q/HLlu1hYL/5ZoeZz+IyQgfRj9G7dHDRc+HT7AdKg3EJh/lgQajnTst4H7bH4PoC5r+BZUS2y/Gw/cDTyxaBVAhUiqAfIa/mWCwfkWYVOM2Cdmle4313xHrzBtthOowJYJ3TOT5eP7/x93tAeTVGNCgwGOVo2g3WX3uUd/dQYUr8ENVkjuefI1a7PRz3ZMjlKZg27JxFmECpGDdlrgWeCOFS3TgpULQrCDJnTFJ1SkK7pKoRLBv9Nh7nyoxIqRLMmhb1tEEYZ5rzhaKUY1xPpmQ80lwHlQxxO1sgS3J4dE9Tt8M/mOedCJ59FwQAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='2022 01 25 19 23 17' title='2022 01 25 19 23 17' src='/static/c24ad1d9dfaed148b1ee8f541eeaef2b/ca1dc/2022-01-25-19-23-17.png' srcset='/static/c24ad1d9dfaed148b1ee8f541eeaef2b/e7570/2022-01-25-19-23-17.png 170w,\n/static/c24ad1d9dfaed148b1ee8f541eeaef2b/f46e7/2022-01-25-19-23-17.png 340w,\n/static/c24ad1d9dfaed148b1ee8f541eeaef2b/ca1dc/2022-01-25-19-23-17.png 680w,\n/static/c24ad1d9dfaed148b1ee8f541eeaef2b/06066/2022-01-25-19-23-17.png 729w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy'>\n  </a>\n    </span></li>\n</ul>\n</li>\n</ul>\n<h3>API 서버에 장애가 난다면?</h3>\n<p><span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;'>\n      <a class='gatsby-resp-image-link' href='/static/464325d17358da049aa033e5f04ca039/0b3a5/2022-01-25-19-48-49.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 23.52941176470588%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAAAsTAAALEwEAmpwYAAABHElEQVQY00VPO07DUBD0LZACcezn5/+zY8fIJgmyIRaEAlEAEqIOKUAKUJEOREHLCRDiEtyBWw27TzEUI82OdmdnDMeLwJB+jN62ia2eCUGzcEMNW/qwhUs80LPjkeb4MC2BgZDo7p3NjaGXyKw/ELhaPmJ5ewfXC+AGCT2JMKoOMTtbIM4nkGTGmspKrF4/cX79gB3T0mG6AAY7u5yuL7C4X+Pn+wvjchdBMkI6zDE9usTT6gUX8xPIKIVKc5R7DW6eP3D69q6TsuFfQq7ARPoKQRhhvyooXQxLBrComhfnOJjUyFQKk2abdEFQZQVv3hIPN5XD/8q8xCbN7BjjukWoMq0xkqxANa0RpYU2Yi1UQ9RNi4xa8NPOjPELtQWdH/NemzcAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='2022 01 25 19 48 49' title='2022 01 25 19 48 49' src='/static/464325d17358da049aa033e5f04ca039/ca1dc/2022-01-25-19-48-49.png' srcset='/static/464325d17358da049aa033e5f04ca039/e7570/2022-01-25-19-48-49.png 170w,\n/static/464325d17358da049aa033e5f04ca039/f46e7/2022-01-25-19-48-49.png 340w,\n/static/464325d17358da049aa033e5f04ca039/ca1dc/2022-01-25-19-48-49.png 680w,\n/static/464325d17358da049aa033e5f04ca039/0b3a5/2022-01-25-19-48-49.png 728w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy'>\n  </a>\n    </span></p>\n<ul>\n<li>다른 시스템 요소들과 관계 없이 전체 시스템이 먹통된다. </li>\n</ul>\n<h3>DB 서버에 장애가 난다면?</h3>\n<p><span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;'>\n      <a class='gatsby-resp-image-link' href='/static/fb21398daa2e162acc5b7db873ce77ff/06066/2022-01-25-19-49-04.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 24.11764705882353%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAAAsTAAALEwEAmpwYAAABE0lEQVQY00VQu07DQBDMb6CEkJzte/hsHw5yFAcSYwuUkip8ABYgChoKCmgokJDS8Q+Ilobf4JuGvY0Dxehm97SzM9sLZAxGZBDpFPtCYxQoCKrHoaY/C6kziHBbi0jzK61DqBOe8/OC5y16nviPvf4QD6/v+P76xCTPYdIJkuwQ9WqN9e0LytMVjM2gbYrq/AKbjx9ctk/oD4Y8zzqKBAPpSYwDoVCUC2weW7iMtquENxbTM8yv76HrClG4dWHyEnc3z3i7ajEYhSz0J+iJhzQJTpY1prNjcuE4lo/u8gKLqkGc5lyPCTpxaJoGy1nJvV3kzmF3Q4LNKKY7Ihd0G2kYKk5ZTHaxfM/zmE4i1K73f8NfoRWdiDIxDVkAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='2022 01 25 19 49 04' title='2022 01 25 19 49 04' src='/static/fb21398daa2e162acc5b7db873ce77ff/ca1dc/2022-01-25-19-49-04.png' srcset='/static/fb21398daa2e162acc5b7db873ce77ff/e7570/2022-01-25-19-49-04.png 170w,\n/static/fb21398daa2e162acc5b7db873ce77ff/f46e7/2022-01-25-19-49-04.png 340w,\n/static/fb21398daa2e162acc5b7db873ce77ff/ca1dc/2022-01-25-19-49-04.png 680w,\n/static/fb21398daa2e162acc5b7db873ce77ff/06066/2022-01-25-19-49-04.png 729w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy'>\n  </a>\n    </span></p>\n<ul>\n<li>이 역시 SPOF이다.</li>\n</ul>\n<h3>Network의 Bandwidth 한계</h3>\n<p><span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 650px; margin-bottom: 16px;'>\n      <a class='gatsby-resp-image-link' href='/static/89c8825b4e3433280a87344c0012ff09/663f3/2022-01-25-21-20-39.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 47.64705882352941%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAABZUlEQVQoz4WSX0/CMBTF+STKNta13Z9uMlgEhKA+iICiQR9MlMSgMSGYEHw28ZMfbydIYRgfmjW35/56bs9KDpPYXuJ3b7sCSZqh0ergmBb3I6pxOB6dGTpTX1oD1gJd1N8KNR1YLq5u7zBbLPH0/AJPRrA00NDpfrO3VHQoV0AfhzZD/2aM6WyOx+lrDtRN+jJnn0NmOnTFzs1aIFEmqPBVDtdntjHePw7Nt+NwyUUYV+FHCWpZA4E6gh8m4DJcwUTh3YtAglgVDiZj9MdvOOmOIFUdo4cF4rSNrN3H9f2cwklI5+X6PaHIrVC0kBOwN1lCTSYIgwyD9y+w4SWazSHOPj5RqddhW2wFFH85lD+/AxWZCNE+76HaPYUfJOhcDBE1mkhrTbR6A3CV5JMUHG5CEVuh6IRVkhIszuEqTiEpGBnGUKoKxoPN77PTWxg5T5JW2fFQJhd6f0h7DdCudN2E7I78DQ4ILswm5eGiAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='2022 01 25 21 20 39' title='2022 01 25 21 20 39' src='/static/89c8825b4e3433280a87344c0012ff09/663f3/2022-01-25-21-20-39.png' srcset='/static/89c8825b4e3433280a87344c0012ff09/e7570/2022-01-25-21-20-39.png 170w,\n/static/89c8825b4e3433280a87344c0012ff09/f46e7/2022-01-25-21-20-39.png 340w,\n/static/89c8825b4e3433280a87344c0012ff09/663f3/2022-01-25-21-20-39.png 650w' sizes='(max-width: 650px) 100vw, 650px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy'>\n  </a>\n    </span></p>\n<ul>\n<li>10G 스위치에 10Gbps 이상의 데이터가 전달된다면, Capacity를 넘어가는 순간부터 패킷 드랍이 발생한다.</li>\n<li>Switch도 이중화가 필요하다.</li>\n</ul>\n<h3>서버에 연결된 인터넷 망이 장애가 난다면?</h3>\n<ul>\n<li>단일 인터넷망을 사용하면 이 또한 SPOF이다.</li>\n</ul>\n<h3>이 외에도 많은 단일화 되어있는 요소들이 SPOF이다.</h3>\n<h2>SPOF방지</h2>\n<ul>\n<li>API서버를 늘려보자</li>\n</ul>\n<p><span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 678px; margin-bottom: 16px;'>\n      <a class='gatsby-resp-image-link' href='/static/989f27a163b15ddc877fdfc8ac11aaa2/dc057/2022-01-25-19-47-11.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 47.05882352941176%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsTAAALEwEAmpwYAAABVElEQVQoz4VSTU/CQBDlb5AYoN2PftPyVcDGSELkoASVm3oxMRoSE/TgwRN6Nx70RGLiX33ObguUKvEwmdm382bfzE6JSRdMOvjbp2ZwSWblsO37PK+kAlOkwMrzLFGdVSEv7CKo91Bj1jonb3l+qXhpcBvlCtde2D7qUQuTizmOZ88IWzEkYQYRa0ySiYLanEJueSjvVfHw8oav5ScY46SsBS9ooJ2MEEzP4VFxn7BqzcTlbIH56zfxfP14QWFasGJIHA5H+FjcI4qaqDdjjUsngrAamhQS5gUhTqZ3OH1fQnS7MInHKG+tUAWqumoxORgg7iUUB1QoQERtnl094vbmCZ24D9sLUTUl5eyjczQEcwOYvxVuzKUWlXH9oqt9MhjjejyB4/gwszxV2CYBTOyY4eZX7Wwmzlp5ox0j7PRzP5riRmE7tma4a69WmF4l4fy7hz97+BJcjzDv8AAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='2022 01 25 19 47 11' title='2022 01 25 19 47 11' src='/static/989f27a163b15ddc877fdfc8ac11aaa2/dc057/2022-01-25-19-47-11.png' srcset='/static/989f27a163b15ddc877fdfc8ac11aaa2/e7570/2022-01-25-19-47-11.png 170w,\n/static/989f27a163b15ddc877fdfc8ac11aaa2/f46e7/2022-01-25-19-47-11.png 340w,\n/static/989f27a163b15ddc877fdfc8ac11aaa2/dc057/2022-01-25-19-47-11.png 678w' sizes='(max-width: 678px) 100vw, 678px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy'>\n  </a>\n    </span></p>\n<ul>\n<li>API 서버 한 대에 에러가 나도 서비스가 가능하다.</li>\n<li>하지만 여전히 DB서버는 SPOF이다.</li>\n<li>DB서버 또한 이중화를 한다.</li>\n</ul>\n<p><span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;'>\n      <a class='gatsby-resp-image-link' href='/static/2fb1aca0407d66249ae52b17e702a3f2/3be76/2022-01-25-21-02-56.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 42.94117647058824%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsTAAALEwEAmpwYAAABhElEQVQoz32SzU7CUBCFfQ2NEPp/b+9toa3QWkNrNCYkKiSQqAsSYeHfSjcal8S4ceXalQvjw/BUx2kLWMC4mGQ67Zx+c2Y2NNPGf6HoFlSTr9VVg6GmmWv1jSIpGnRLwKAoGjgJ2eAigGFKEma/P9EsmKIOJ9gtvs37eVmwiK1KDZtVLRczmEAYH+Ds7gVJ7wLcdvJGnUnKJfrDB7x+TSF2YiiqAW0GsiCsGQKT9w883V/nZI4XgPMGwu45rKNDSCJisgHherAppGyhdXULI02gKplgaWSdYltluByN8PY4hsZcOI0ACpHabkjjSthOAzwTrPtkjQ0v2kfaHUK1JDSDL3uokMGMCKK4DdcPZ88u/CjF+GaC3vGA6Op5g2m7ENLBYPyMz+8p4laMKo2sl0fOPNPJM0lUGcmcmtebOO30cZIkqM1q2TtGfurCx7jTQRoEqGhsdcvFprJNZnQF9Wwxe20Ir0knYi18yvKgGSGgiZTSlaxt+e87ZEsezWN+YvpK/Qf/dBXL5vU4mwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='2022 01 25 21 02 56' title='2022 01 25 21 02 56' src='/static/2fb1aca0407d66249ae52b17e702a3f2/ca1dc/2022-01-25-21-02-56.png' srcset='/static/2fb1aca0407d66249ae52b17e702a3f2/e7570/2022-01-25-21-02-56.png 170w,\n/static/2fb1aca0407d66249ae52b17e702a3f2/f46e7/2022-01-25-21-02-56.png 340w,\n/static/2fb1aca0407d66249ae52b17e702a3f2/ca1dc/2022-01-25-21-02-56.png 680w,\n/static/2fb1aca0407d66249ae52b17e702a3f2/3be76/2022-01-25-21-02-56.png 704w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy'>\n  </a>\n    </span></p>\n<ul>\n<li>이 외에도 Switch, Route 등의 서버 외의 하드웨어 부분에 SPOF가 발생할 수 있다.</li>\n<li>\n<p>이러한 SPOF의 방지와 서비스의 복원력에는 당연하게도 큰 비용이 뒤따른다.</p>\n<ul>\n<li>서버 및 스토리지의 이중화</li>\n</ul>\n</li>\n</ul>\n<h2>References</h2>\n<ul>\n<li>위키피디아 - <a href=\"https://ko.wikipedia.org/wiki/%EB%8B%A8%EC%9D%BC_%EC%9E%A5%EC%95%A0%EC%A0%90\">https://ko.wikipedia.org/wiki/%EB%8B%A8%EC%9D%BC_%EC%9E%A5%EC%95%A0%EC%A0%90</a></li>\n<li><a href=\"https://blog.gigamon.com/2018/08/31/understanding-single-points-of-failure/\">https://blog.gigamon.com/2018/08/31/understanding-single-points-of-failure/</a></li>\n<li><a href=\"https://searchdatacenter.techtarget.com/definition/Single-point-of-failure-SPOF\">https://searchdatacenter.techtarget.com/definition/Single-point-of-failure-SPOF</a></li>\n</ul>","frontmatter":{"title":"단일 장애 지점(SPOF)이란? Single Point of Failure","date":"January 25, 2022","update":"January 25, 2022","tags":["infra"],"series":null},"fields":{"slug":"/single-point-of-failure/","readingTime":{"minutes":0.915}}},"seriesList":{"edges":[{"node":{"id":"15b51d30-c078-53de-a25e-48039f097339","fields":{"slug":"/3-mount/"},"frontmatter":{"title":"Ubuntu 에서 (외장) 하드디스크 사용하기 "}}},{"node":{"id":"ae390cb5-0f32-5525-9ffc-204ebb1321a2","fields":{"slug":"/4-pgconnectbad/"},"frontmatter":{"title":"PG:ConnectionBad - could not connect to server: Connection refused"}}},{"node":{"id":"ecda0f77-0b85-5ca7-b7e1-02b52c277c4d","fields":{"slug":"/23-InfraStructureAsCode/"},"frontmatter":{"title":"Infrastructure as code"}}},{"node":{"id":"0106d6fa-95ca-57ce-b105-a61ccc1bfe48","fields":{"slug":"/26-difference-between-binary-semaphore-and-mutex/"},"frontmatter":{"title":"Binary Semaphore vs Mutex"}}},{"node":{"id":"9b992cd0-63e6-58c6-9932-8635b1c6296f","fields":{"slug":"/sudo-with-touch-id/"},"frontmatter":{"title":"터미널에서 비밀번호 말고 touch id로 sudo 쓰기"}}},{"node":{"id":"8dfb02e2-4517-5ee9-8a31-a3558811607e","fields":{"slug":"/gh-pages-cname/"},"frontmatter":{"title":"gh-pages, custom domain(cname) 적용 안 될 때 (gatsby-gh-pages-action)"}}},{"node":{"id":"471fd508-4593-5513-aaed-79bff70247a9","fields":{"slug":"/op-ssh/"},"frontmatter":{"title":"1password + ssh key password"}}},{"node":{"id":"e310aca0-ac3a-5c50-a84e-cacf6da37a52","fields":{"slug":"/https-and-ssl/"},"frontmatter":{"title":"HTTPS 와 SSL"}}},{"node":{"id":"dd1d3e00-4e08-55dc-9e58-b09bb83c5961","fields":{"slug":"/https-and-ssl-2/"},"frontmatter":{"title":"HTTPS 와 SSL - 2"}}},{"node":{"id":"75217705-7603-5d83-8492-2112ee48b14b","fields":{"slug":"/single-point-of-failure/"},"frontmatter":{"title":"단일 장애 지점(SPOF)이란? Single Point of Failure"}}},{"node":{"id":"1661f2df-49ed-52ff-a108-89ffa05b6889","fields":{"slug":"/rate-limit/"},"frontmatter":{"title":"처리율 제한 Rate Limit"}}}]},"previous":{"fields":{"slug":"/week-3-2022-retrospective/"},"frontmatter":{"title":"3 주차 회고 [2022]"}},"next":{"fields":{"slug":"/rate-limit/"},"frontmatter":{"title":"처리율 제한 Rate Limit"}}},"pageContext":{"id":"75217705-7603-5d83-8492-2112ee48b14b","series":null,"previousPostId":"ac304726-3918-5ee3-895d-aa4471afb87a","nextPostId":"1661f2df-49ed-52ff-a108-89ffa05b6889"}},"staticQueryHashes":[]}