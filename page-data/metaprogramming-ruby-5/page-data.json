{"componentChunkName":"component---src-templates-post-jsx","path":"/metaprogramming-ruby-5/","result":{"data":{"site":{"siteMetadata":{"title":"Seongjun Kim Blog"}},"markdownRemark":{"id":"10646ae4-ced4-5411-87f6-7011a8f5c108","excerpt":"Class Definitions 일반적인 프로그래밍 언어에서의 클래스는 클래스의 객체를 만든 다음 해당 객체의 메서드를 호출할 때까지 실제로 아무 일도 일어나지 않는다. 루비에서는 다르다, 객체의 향후 동작 방식만 지시하는 것이 아닌 코드를 실제로 싱행한다. 클래스 매크로와 별칭에 대한 것을 배울 예정 싱글톤 클래스에 대해서도 설명 클래스 정의 이해하기 …","html":"<h1>Class Definitions</h1>\n<ul>\n<li>일반적인 프로그래밍 언어에서의 클래스는 클래스의 객체를 만든 다음 해당 객체의 메서드를 호출할 때까지 실제로 아무 일도 일어나지 않는다.</li>\n<li>루비에서는 다르다, 객체의 향후 동작 방식만 지시하는 것이 아닌 코드를 실제로 싱행한다.</li>\n<li>클래스 매크로와 별칭에 대한 것을 배울 예정</li>\n<li>싱글톤 클래스에 대해서도 설명</li>\n</ul>\n<h2>클래스 정의 이해하기</h2>\n<h3>클래스 정의 내부</h3>\n<div class=\"gatsby-highlight\" data-language=\"ruby\"><pre class=\"language-ruby\"><code class=\"language-ruby\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">MyClass</span>\n  puts <span class=\"token string\">'Hello'</span>\n<span class=\"token keyword\">end</span>\n❮ <span class=\"token constant\">Hello</span></code></pre></div>\n<ul>\n<li>클래스 정의에 원하는 코드를 넣을 수 있다.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"ruby\"><pre class=\"language-ruby\"><code class=\"language-ruby\">result <span class=\"token operator\">=</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">MyClass</span>\n    <span class=\"token keyword\">self</span>\n<span class=\"token keyword\">end</span>\nresult <span class=\"token comment\"># => MyClass</span></code></pre></div>\n<ul>\n<li>클래스 정의도 메서드처럼 마지막 라인을 반환한다.</li>\n<li>클래스 정의에서 클래스 자체는 현재 객체로써 역할을 수행함</li>\n<li>클래스와 모듈은 객체일 뿐인데 왜 self가 될 수 없나?</li>\n<li>일단 킵</li>\n</ul>\n<h3>The Current Class</h3>\n<ul>\n<li>알다시피 루비에서는 어디든 self를 갖고있다. 마찬가지로 항상 <strong>current class</strong>가 있다.</li>\n<li>메서드를 정의하면 해당 메서드가 현재 클래스의 인스턴스 메서드가 된다.</li>\n<li>\n<p>self로 현재 객체에 대한 참조를 가져올 수 있지만 <strong>current class</strong>에 대한 참조를 갖고 오는 키워드는 없다.</p>\n<ul>\n<li>최상위 레벨에서의 current class는 Object이다. 따라서 최상위에서 메서드를 정의하면 Object의 인스턴스 메서드가 된다.</li>\n<li>메서드에서 current class는 오브젝트의 클래스이다.</li>\n<li>클래스 키워드가 있는 클래스를 열면 해당 클래스가 current class가 된다</li>\n</ul>\n</li>\n<li>클래스 키워드는 클래스 이름이 필요하다는 한계</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"ruby\"><pre class=\"language-ruby\"><code class=\"language-ruby\"><span class=\"token keyword\">def</span> <span class=\"token method-definition\"><span class=\"token function\">add_method_to</span></span><span class=\"token punctuation\">(</span>a_class<span class=\"token punctuation\">)</span>\n  <span class=\"token comment\"># TODO: define method m() on a_class</span>\n<span class=\"token keyword\">end</span></code></pre></div>\n<ul>\n<li>현재 클래스를 변경하려면 클래스 키워드 이외의 방법이 필요하다.</li>\n</ul>\n<h4>class_eval()</h4>\n<p><code class=\"language-text\">Module#class_eval</code> 은 기존 클래스의 컨텍스트에서 블록은 evaluate한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ruby\"><pre class=\"language-ruby\"><code class=\"language-ruby\"><span class=\"token keyword\">def</span> <span class=\"token method-definition\"><span class=\"token function\">add_method_to</span></span><span class=\"token punctuation\">(</span>a_class<span class=\"token punctuation\">)</span>\n  a_class<span class=\"token punctuation\">.</span>class_eval <span class=\"token keyword\">do</span>\n    <span class=\"token keyword\">def</span> <span class=\"token method-definition\"><span class=\"token function\">m</span></span><span class=\"token punctuation\">;</span> <span class=\"token string\">'Hello!'</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">end</span>\n  <span class=\"token keyword\">end</span>\n<span class=\"token keyword\">end</span>\nadd_method_to <span class=\"token builtin\">String</span>\n<span class=\"token string\">\"abc\"</span><span class=\"token punctuation\">.</span>m   <span class=\"token comment\"># => \"Hello!\"</span></code></pre></div>\n<ul>\n<li>\n<p><code class=\"language-text\">instance_eval</code> 하고는 매우 다름 얘는 object만 변경, class_eval은 전부 변경</p>\n<ul>\n<li>펙트는 아닌데 일단 뒤에서 더 설명</li>\n</ul>\n</li>\n<li>class_eval은 current class를 변경하여 클래스 키워드처럼 클래스를 다시 연다.</li>\n<li>\n<p>class 보다 더 유연하다</p>\n<ul>\n<li>class는 상수를 필요하지만 class_eval은 모든 변수에 사용 가능</li>\n<li>class는 current binding을 볼 수 없지만 class eval은 플랫 스코프를 가짐 - 외부 스코프의 변수 참조 가능</li>\n<li>class_exec 메서드도 있다.</li>\n</ul>\n</li>\n</ul>\n<h3>Current class Wrap-up</h3>\n<ul>\n<li>루비 인터프리터는 항상 current class에 대한 참조를 유지한다. def로 정의된 메서드는 current class의 인스턴스 메서드가 된다.</li>\n<li>클래스 정의에서 현재 객체 self와 current class는 동일하다.</li>\n<li>클래스에 대한 참조가 있으면 class_eval로 클래스를 열 수 있다.</li>\n</ul>\n<h3>클래스 인스턴스 변수</h3>\n<ul>\n<li>루비 인터프리터는 모든 인스턴스 변수가 현재 객체 self에 속한다고 가정한다, 클래스에서도 마찬가지</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"ruby\"><pre class=\"language-ruby\"><code class=\"language-ruby\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">MyClass</span>\n  <span class=\"token variable\">@my_var</span> <span class=\"token operator\">=</span> <span class=\"token number\">1</span>\n  <span class=\"token keyword\">def</span> <span class=\"token method-definition\"><span class=\"token keyword\">self</span><span class=\"token punctuation\">.</span><span class=\"token function\">read</span></span><span class=\"token punctuation\">;</span> <span class=\"token variable\">@my_var</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">end</span>\n  <span class=\"token keyword\">def</span> <span class=\"token method-definition\"><span class=\"token function\">write</span></span><span class=\"token punctuation\">;</span> <span class=\"token variable\">@my_var</span> <span class=\"token operator\">=</span> <span class=\"token number\">2</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">end</span>\n  <span class=\"token keyword\">def</span> <span class=\"token method-definition\"><span class=\"token function\">read</span></span><span class=\"token punctuation\">;</span> <span class=\"token variable\">@my_var</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">end</span>\n<span class=\"token keyword\">end</span>\nobj <span class=\"token operator\">=</span> <span class=\"token constant\">MyClass</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">new</span>\nobj<span class=\"token punctuation\">.</span>read <span class=\"token comment\"># => nil</span>\nobj<span class=\"token punctuation\">.</span>write\nobj<span class=\"token punctuation\">.</span>read <span class=\"token comment\"># => 2</span>\n<span class=\"token constant\">MyClass</span><span class=\"token punctuation\">.</span>read <span class=\"token comment\"># => 1</span></code></pre></div>\n<ul>\n<li>self는 클래스 자체이니까 인스턴스 변수 <code class=\"language-text\">@my_var</code> 는 클래스에 속한다.</li>\n<li>클래스의 인스턴스 변수는, 클래스 객체의 인스턴스 변수와 다르다</li>\n<li>두 개의 인스턴스 변수를 정의한 것 같은 이름이지만 서로 다른 범위, 서로 다른 객체</li>\n<li>클래스는 단지 객체임을 기억하고, self를 트래킹 해야함</li>\n<li>obj을 self로 두느냐, MyClass를 self로 두느냐.</li>\n<li>static field같은거임</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"ruby\"><pre class=\"language-ruby\"><code class=\"language-ruby\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">C</span>\n  <span class=\"token variable\">@@v</span> <span class=\"token operator\">=</span> <span class=\"token number\">1</span>\n<span class=\"token keyword\">end</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">D</span> <span class=\"token operator\">&lt;</span> <span class=\"token constant\">C</span>\n  <span class=\"token keyword\">def</span> <span class=\"token method-definition\"><span class=\"token function\">my_method</span></span><span class=\"token punctuation\">;</span> <span class=\"token variable\">@@v</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">end</span>\n<span class=\"token keyword\">end</span>\n<span class=\"token constant\">D</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">new</span><span class=\"token punctuation\">.</span>my_method <span class=\"token comment\"># => 1</span></code></pre></div>\n<ul>\n<li>이게 더 스태틱변수같긴한데, 서브 클래스에서 접근 가능함</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"ruby\"><pre class=\"language-ruby\"><code class=\"language-ruby\"><span class=\"token variable\">@@v</span> <span class=\"token operator\">=</span> <span class=\"token number\">1</span>\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">MyClass</span>\n  <span class=\"token variable\">@@v</span> <span class=\"token operator\">=</span> <span class=\"token number\">2</span>\n<span class=\"token keyword\">end</span>\n<span class=\"token variable\">@@v</span> <span class=\"token comment\">#=>2</span></code></pre></div>\n<ul>\n<li>하지만 쫌 ..</li>\n<li>클래스 변수가 클래스에 속하는 것이 아닌 클래스 계층에 속하기 때문</li>\n<li>@@v는 main context에서 정의가 되므로 Object에 속한다.</li>\n<li>그리고 모든 Object의 후손들에게 ... MyClass는 Object를 상속하므로 동일한 클래스 변수를 공유</li>\n<li>그래서 대부분 클래스 변수를 피함, 최상위에서는 클래스 변수를 못쓰게 함</li>\n</ul>\n<h3>bookworm</h3>\n<div class=\"gatsby-highlight\" data-language=\"ruby\"><pre class=\"language-ruby\"><code class=\"language-ruby\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Loan</span>\n  <span class=\"token keyword\">def</span> <span class=\"token method-definition\"><span class=\"token function\">initialize</span></span><span class=\"token punctuation\">(</span>book<span class=\"token punctuation\">)</span>\n    <span class=\"token variable\">@book</span> <span class=\"token operator\">=</span> book\n    <span class=\"token variable\">@time</span> <span class=\"token operator\">=</span> <span class=\"token builtin\">Time</span><span class=\"token punctuation\">.</span>now\n  <span class=\"token keyword\">end</span>\n  <span class=\"token keyword\">def</span> <span class=\"token method-definition\"><span class=\"token function\">to_s</span></span>\n    <span class=\"token string\">\"<span class=\"token interpolation\"><span class=\"token delimiter tag\">#{</span><span class=\"token variable\">@book</span><span class=\"token punctuation\">.</span>upcase<span class=\"token delimiter tag\">}</span></span> loaned on <span class=\"token interpolation\"><span class=\"token delimiter tag\">#{</span><span class=\"token variable\">@time</span><span class=\"token delimiter tag\">}</span></span>\"</span>\n  <span class=\"token keyword\">end</span>\n<span class=\"token keyword\">end</span></code></pre></div>\n<ul>\n<li>Loan은 책 제목과 대출된 시간을 저장</li>\n<li>to_s의 테스트를 작성하려면 객체가 생성된 정확한 시간을 알아야한다.</li>\n<li>하지만 매번 다른 결과이므로 ...</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"ruby\"><pre class=\"language-ruby\"><code class=\"language-ruby\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Loan</span>\n  <span class=\"token keyword\">def</span> <span class=\"token method-definition\"><span class=\"token function\">initialize</span></span><span class=\"token punctuation\">(</span>book<span class=\"token punctuation\">)</span>\n    <span class=\"token variable\">@book</span> <span class=\"token operator\">=</span> book\n    <span class=\"token variable\">@time</span> <span class=\"token operator\">=</span> <span class=\"token constant\">Loan</span><span class=\"token punctuation\">.</span>time_class<span class=\"token punctuation\">.</span>now\n  <span class=\"token keyword\">end</span>\n  <span class=\"token keyword\">def</span> <span class=\"token method-definition\"><span class=\"token keyword\">self</span><span class=\"token punctuation\">.</span><span class=\"token function\">time_class</span></span>\n    <span class=\"token variable\">@time_class</span> <span class=\"token operator\">||</span> <span class=\"token builtin\">Time</span>\n  <span class=\"token keyword\">end</span>\n<span class=\"token keyword\">def</span> <span class=\"token method-definition\"><span class=\"token function\">to_s</span></span>\n<span class=\"token comment\"># ...</span></code></pre></div>\n<ul>\n<li>time_class는 클래스를 반환하고 해당 클래스로 현재 시간을 갖고온다.</li>\n<li>nil gurad로 인해 @time_class가 없으면 Time을 기본값으로 반환</li>\n<li>단위 테스트에선 항상 동일한 값을 반환하는 가짜 시간 클래스에 의존할 수 있다.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"ruby\"><pre class=\"language-ruby\"><code class=\"language-ruby\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">FakeTime</span>\n  <span class=\"token keyword\">def</span> <span class=\"token method-definition\"><span class=\"token keyword\">self</span><span class=\"token punctuation\">.</span><span class=\"token function\">now</span></span><span class=\"token punctuation\">;</span> <span class=\"token string\">'Mon Apr 06 12:15:50'</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">end</span>\n<span class=\"token keyword\">end</span>\n\n<span class=\"token keyword\">require</span> <span class=\"token string\">'test/unit'</span>\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">TestLoan</span> <span class=\"token operator\">&lt;</span> <span class=\"token constant\">Test</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">:</span><span class=\"token constant\">Unit</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">:</span><span class=\"token constant\">TestCase</span>\n  <span class=\"token keyword\">def</span> <span class=\"token method-definition\"><span class=\"token function\">test_conversion_to_string</span></span>\n    <span class=\"token constant\">Loan</span><span class=\"token punctuation\">.</span>instance_eval <span class=\"token punctuation\">{</span> <span class=\"token variable\">@time_class</span> <span class=\"token operator\">=</span> <span class=\"token constant\">FakeTime</span> <span class=\"token punctuation\">}</span>\n    loan <span class=\"token operator\">=</span> <span class=\"token constant\">Loan</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">new</span><span class=\"token punctuation\">(</span><span class=\"token string\">'War and Peace'</span><span class=\"token punctuation\">)</span>\n    assert_equal <span class=\"token string\">'WAR AND PEACE loaned on Mon Apr 06 12:15:50'</span><span class=\"token punctuation\">,</span> loan<span class=\"token punctuation\">.</span>to_s\n  <span class=\"token keyword\">end</span>\n<span class=\"token keyword\">end</span></code></pre></div>\n<h2>싱글톤 메서드</h2>\n<ul>\n<li>\n<p>Paragraph 클래스는 문자열을 줄 바꿈한 다음 모든 호출을 줄 바꿈 문자열에 위임한다.</p>\n<ul>\n<li>title?은 문단이 모두 대문자이면 트루</li>\n</ul>\n</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"ruby\"><pre class=\"language-ruby\"><code class=\"language-ruby\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Paragraph</span>\n  <span class=\"token keyword\">def</span> <span class=\"token method-definition\"><span class=\"token function\">initialize</span></span><span class=\"token punctuation\">(</span>text<span class=\"token punctuation\">)</span>\n    <span class=\"token variable\">@text</span> <span class=\"token operator\">=</span> text\n  <span class=\"token keyword\">end</span>\n  <span class=\"token keyword\">def</span> <span class=\"token method-definition\"><span class=\"token function\">title</span></span><span class=\"token operator\">?</span><span class=\"token punctuation\">;</span> <span class=\"token variable\">@text</span><span class=\"token punctuation\">.</span>upcase <span class=\"token operator\">==</span> <span class=\"token variable\">@text</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">end</span>\n  <span class=\"token keyword\">def</span> <span class=\"token method-definition\"><span class=\"token function\">reverse</span></span><span class=\"token punctuation\">;</span> <span class=\"token variable\">@text</span><span class=\"token punctuation\">.</span>reverse<span class=\"token punctuation\">;</span> <span class=\"token keyword\">end</span>\n  <span class=\"token keyword\">def</span> <span class=\"token method-definition\"><span class=\"token function\">upcase</span></span><span class=\"token punctuation\">;</span> <span class=\"token variable\">@text</span><span class=\"token punctuation\">.</span>upcase<span class=\"token punctuation\">;</span> <span class=\"token keyword\">end</span>\n  <span class=\"token comment\">#...</span>\n\n<span class=\"token keyword\">end</span>\n<span class=\"token comment\"># ...</span>\n<span class=\"token keyword\">def</span> <span class=\"token method-definition\"><span class=\"token function\">index</span></span><span class=\"token punctuation\">(</span>paragraph<span class=\"token punctuation\">)</span>\n  add_to_index<span class=\"token punctuation\">(</span>paragraph<span class=\"token punctuation\">)</span> <span class=\"token keyword\">if</span> paragraph<span class=\"token punctuation\">.</span>title<span class=\"token operator\">?</span>\n<span class=\"token keyword\">end</span>\n<span class=\"token comment\"># ...</span></code></pre></div>\n<ul>\n<li>Paragraph는 한 곳에서 생성되고 title? 메서드는 인덱스라는 메서드에서 한 번만 호출된다</li>\n<li>이게 필요한가? 그냥 스트링 클래스를 몽키패치해서 title? 메서드를 추가?</li>\n<li>하지만 paragraph을 나타내는 문자열에서만 의미가 있고 다른 문자열에서는 의미가 없다.</li>\n<li>하나의 객체에 메서드를 추가하기</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"ruby\"><pre class=\"language-ruby\"><code class=\"language-ruby\">str <span class=\"token operator\">=</span> <span class=\"token string\">\"just a regular string\"</span>\n<span class=\"token keyword\">def</span> <span class=\"token method-definition\">str<span class=\"token punctuation\">.</span><span class=\"token function\">title</span></span><span class=\"token operator\">?</span>\n  <span class=\"token keyword\">self</span><span class=\"token punctuation\">.</span>upcase <span class=\"token operator\">==</span> <span class=\"token keyword\">self</span>\n<span class=\"token keyword\">end</span>\nstr<span class=\"token punctuation\">.</span>title<span class=\"token operator\">?</span> <span class=\"token comment\"># => false</span>\nstr<span class=\"token punctuation\">.</span>methods<span class=\"token punctuation\">.</span>grep<span class=\"token punctuation\">(</span><span class=\"token regex\">/title?/</span><span class=\"token punctuation\">)</span> <span class=\"token comment\"># => [:title?]</span>\nstr<span class=\"token punctuation\">.</span>singleton_methods<span class=\"token comment\"># => [:title?]</span></code></pre></div>\n<ul>\n<li><code class=\"language-text\">Object#define_singleton_method</code> 를 통해서 싱글톤 메서드를 정의할 수 있다.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"ruby\"><pre class=\"language-ruby\"><code class=\"language-ruby\">paragraph <span class=\"token operator\">=</span> <span class=\"token string\">\"any string can be a paragraph\"</span>\n<span class=\"token keyword\">def</span> <span class=\"token method-definition\">paragraph<span class=\"token punctuation\">.</span><span class=\"token function\">title</span></span><span class=\"token operator\">?</span>\n  <span class=\"token keyword\">self</span><span class=\"token punctuation\">.</span>upcase <span class=\"token operator\">==</span> <span class=\"token keyword\">self</span>\n<span class=\"token keyword\">end</span>\nindex<span class=\"token punctuation\">(</span>paragraph<span class=\"token punctuation\">)</span></code></pre></div>\n<h3>클래스 메서드의 진실</h3>\n<ul>\n<li>\n<p>Object Model에서 배운 내용을 기억하나? 클래스는 객체이고 클래스 이름은 상수이다.</p>\n<ul>\n<li>클래스에서 메서드를 호출하는 것과 객체에서 호출이 같다라는 것을 알 수 있다.</li>\n</ul>\n</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"ruby\"><pre class=\"language-ruby\"><code class=\"language-ruby\">an_object<span class=\"token punctuation\">.</span>a_method\n<span class=\"token constant\">AClass</span><span class=\"token punctuation\">.</span>a_class_method</code></pre></div>\n<ul>\n<li>하지만 싱글톤 메서드? 그게 바로 클래스 메서드!! - 클래스의 싱글톤 메서드이다.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"ruby\"><pre class=\"language-ruby\"><code class=\"language-ruby\"><span class=\"token keyword\">def</span> <span class=\"token method-definition\">obj<span class=\"token punctuation\">.</span><span class=\"token function\">a_singleton_method</span></span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">end</span>\n<span class=\"token keyword\">def</span> <span class=\"token method-definition\"><span class=\"token constant\">MyClass</span><span class=\"token punctuation\">.</span><span class=\"token function\">another_class_method</span></span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">end</span></code></pre></div>\n<ul>\n<li>앞의 정의에서 객체는 객체 참조, 상수 클래스 이름, 또는 그 자체일 수 있다. 구문은 다를 수 있지만 기본 메커니즘은 동일하다.</li>\n</ul>\n<h3>클래스 매크로</h3>\n<h4>attr_accessor() example</h4>\n<div class=\"gatsby-highlight\" data-language=\"ruby\"><pre class=\"language-ruby\"><code class=\"language-ruby\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">MyClass</span>\n  <span class=\"token keyword\">def</span> <span class=\"token method-definition\"><span class=\"token function\">my_attribute</span></span><span class=\"token operator\">=</span><span class=\"token punctuation\">(</span>value<span class=\"token punctuation\">)</span>\n    <span class=\"token variable\">@my_attribute</span> <span class=\"token operator\">=</span> value\n  <span class=\"token keyword\">end</span>\n   <span class=\"token keyword\">def</span> <span class=\"token method-definition\"><span class=\"token function\">my_attribute</span></span>\n    <span class=\"token variable\">@my_attribute</span>\n  <span class=\"token keyword\">end</span>\n<span class=\"token keyword\">end</span>\nobj <span class=\"token operator\">=</span> <span class=\"token constant\">MyClass</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">new</span>\nobj<span class=\"token punctuation\">.</span>my_attribute <span class=\"token operator\">=</span> <span class=\"token string\">'x'</span>\nobj<span class=\"token punctuation\">.</span>my_attribute</code></pre></div>\n<ul>\n<li>루비의 객체에는 속성이 없다.</li>\n<li>모방 메서드인 reader, writer를 정의 해야한다.</li>\n<li>위와 같은 정의는 금방 지루하다.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"ruby\"><pre class=\"language-ruby\"><code class=\"language-ruby\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">MyClass</span>\n  attr_accessor <span class=\"token symbol\">:my_attribute</span>\n<span class=\"token keyword\">end</span></code></pre></div>\n<ul>\n<li>attr_accessor은 w/r</li>\n<li>attr_reader는 r</li>\n<li>attr_writer 는 w를 생성</li>\n<li>attr_*은 모듈 class에 정의되어 있으므로 모듈 또는 클래스일 때 사용 가능하다.</li>\n<li>이러한 메서드를 클래스 매크로라고 한다.</li>\n<li>키워드 처럼 보이지만 클래스 정의에 사용되는 메서드 일 뿐이다.</li>\n</ul>\n<h4>Class Macros Applied</h4>\n<ul>\n<li>북 클래스에는 몇가지 메서드가 있다, 이 메서드 이름을 바꾸면 호출자가 끊어지므로...</li>\n<li>GetTitle -> title, LEND<em>TO</em>USER -> lend_to, title2 -> subtitle</li>\n<li>이전 이름을 deprecate 클래스 매크로로 메서드 이름을 바꿀 수 있다</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"ruby\"><pre class=\"language-ruby\"><code class=\"language-ruby\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Book</span>\n  <span class=\"token keyword\">def</span> <span class=\"token method-definition\"><span class=\"token function\">title</span></span> <span class=\"token comment\"># ...</span>\n  <span class=\"token keyword\">def</span> <span class=\"token method-definition\"><span class=\"token function\">subtitle</span></span> <span class=\"token comment\"># ...</span>\n  <span class=\"token keyword\">def</span> <span class=\"token method-definition\"><span class=\"token function\">lend_to</span></span><span class=\"token punctuation\">(</span>user<span class=\"token punctuation\">)</span>\n    puts <span class=\"token string\">\"Lending to <span class=\"token interpolation\"><span class=\"token delimiter tag\">#{</span>user<span class=\"token delimiter tag\">}</span></span>\"</span>\n    <span class=\"token comment\"># ...</span>\n  <span class=\"token keyword\">end</span>\n  <span class=\"token keyword\">def</span> <span class=\"token method-definition\"><span class=\"token keyword\">self</span><span class=\"token punctuation\">.</span><span class=\"token function\">deprecate</span></span><span class=\"token punctuation\">(</span>old_method<span class=\"token punctuation\">,</span> new_method<span class=\"token punctuation\">)</span>\n     <span class=\"token keyword\">define_method</span><span class=\"token punctuation\">(</span>old_method<span class=\"token punctuation\">)</span> <span class=\"token keyword\">do</span> <span class=\"token operator\">|</span><span class=\"token operator\">*</span>args<span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span>block<span class=\"token operator\">|</span>\n      warn <span class=\"token string\">\"Warning: <span class=\"token interpolation\"><span class=\"token delimiter tag\">#{</span>old_method<span class=\"token delimiter tag\">}</span></span>() is deprecated. Use <span class=\"token interpolation\"><span class=\"token delimiter tag\">#{</span>new_method<span class=\"token delimiter tag\">}</span></span>().\"</span>\n      send<span class=\"token punctuation\">(</span>new_method<span class=\"token punctuation\">,</span> <span class=\"token operator\">*</span>args<span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span>block<span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">end</span>\n  <span class=\"token keyword\">end</span>\n    deprecate <span class=\"token symbol\">:GetTitle</span><span class=\"token punctuation\">,</span> <span class=\"token symbol\">:title</span>\n    deprecate <span class=\"token symbol\">:LEND_TO_USER</span><span class=\"token punctuation\">,</span> <span class=\"token symbol\">:lend_to</span>\n    deprecate <span class=\"token symbol\">:title2</span><span class=\"token punctuation\">,</span> <span class=\"token symbol\">:subtitle</span>\n<span class=\"token keyword\">end</span>\nb <span class=\"token operator\">=</span> <span class=\"token constant\">Book</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">new</span>\nb<span class=\"token punctuation\">.</span><span class=\"token constant\">LEND_TO_USER</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Bill\"</span><span class=\"token punctuation\">)</span>\n❮ <span class=\"token constant\">Warning</span><span class=\"token punctuation\">:</span> <span class=\"token constant\">LEND_TO_USER</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> is deprecated<span class=\"token punctuation\">.</span> <span class=\"token constant\">Use</span> lend_to<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span> <span class=\"token constant\">Lending</span> to <span class=\"token constant\">Bill</span></code></pre></div>\n<ul>\n<li>이전 이름에 대한 호출을 탐지하는 동적 메서드를 정의</li>\n<li>경고창을 정의</li>\n<li>클래스 매크로를 사용하는 기발한 방법</li>\n</ul>\n<h2>싱글톤 클래스</h2>\n<h3>싱글톤 메서드의 미스테리</h3>\n<ul>\n<li>Method Lookup에서 수신자의 클래스로 이동한 다음 클래스 계층 위로 올라가서 메서드를 찾는 방법을 배웠다.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"ruby\"><pre class=\"language-ruby\"><code class=\"language-ruby\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">MyClass</span>\n    <span class=\"token keyword\">def</span> <span class=\"token method-definition\"><span class=\"token function\">my_method</span></span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">end</span>\n<span class=\"token keyword\">end</span>\nobj <span class=\"token operator\">=</span> <span class=\"token constant\">MyClass</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">new</span>\nobj<span class=\"token punctuation\">.</span>my_method\n\n<span class=\"token keyword\">def</span> <span class=\"token method-definition\">obj<span class=\"token punctuation\">.</span><span class=\"token function\">my_singleton_method</span></span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">end</span></code></pre></div>\n<ul>\n<li>싱글톤 메서드에서는?</li>\n<li>obj는 클래스가 아니므로 obj에서 살 수 없다.</li>\n<li>MyClass나 Object에서도 마찬가지, 모든 클래스에 적용이 되어버리므로</li>\n<li>\n<p>보이는 클래스 대신 객체는 자신만의 특수한 숨겨진 클래스를 가질 수 있다 -</p>\n<ul>\n<li>이를 싱글톤 클래스라고 한다 ( 메타클래스 혹은 고유 클래스라고 부르기도 한다.)</li>\n</ul>\n</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"ruby\"><pre class=\"language-ruby\"><code class=\"language-ruby\"><span class=\"token keyword\">class</span> <span class=\"token operator\">&lt;</span><span class=\"token operator\">&lt;</span> an_object\n  <span class=\"token comment\"># your code here</span>\n<span class=\"token keyword\">end</span></code></pre></div>\n<ul>\n<li>싱글톤 클래스에 대한 참조를 가져오려면 스코프에서 자체적으로 반환 가능하다.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"ruby\"><pre class=\"language-ruby\"><code class=\"language-ruby\">obj <span class=\"token operator\">=</span> <span class=\"token builtin\">Object</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">new</span>\nsingleton_class <span class=\"token operator\">=</span> <span class=\"token keyword\">class</span> <span class=\"token operator\">&lt;</span><span class=\"token operator\">&lt;</span> obj\n  <span class=\"token keyword\">self</span>\n<span class=\"token keyword\">end</span>\nsingleton_class<span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span>   <span class=\"token comment\"># => Class</span>\n\n<span class=\"token string\">\"abc\"</span><span class=\"token punctuation\">.</span>singleton_class    <span class=\"token comment\"># => #&lt;Class:#&lt;String:0x331df0>></span></code></pre></div>\n<ul>\n<li><code class=\"language-text\">Object#singleton_class</code> 로도 얻을 수 있다.</li>\n<li>싱글톤 클래스는 &#x3C;&#x3C; 구문 혹은 singleton_class 메서드를 사용 전에는 볼 수 없음</li>\n<li>단일 인스턴스에만 있고 상속될 수 없다.</li>\n<li>싱글톤 클래스는 객체의 싱글톤 메서드가 존재하는 곳이다.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"ruby\"><pre class=\"language-ruby\"><code class=\"language-ruby\"><span class=\"token keyword\">def</span> <span class=\"token method-definition\">obj<span class=\"token punctuation\">.</span><span class=\"token function\">my_singleton_method</span></span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">end</span>\nsingleton_class<span class=\"token punctuation\">.</span>instance_methods<span class=\"token punctuation\">.</span>grep<span class=\"token punctuation\">(</span><span class=\"token regex\">/my_/</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># => [:my_singleton_method]</span></code></pre></div>\n<h3>메서드 조회 다시 보기</h3>\n<ul>\n<li>예전 장에서 메서드 호출 시 발생하는 현상에서는 루비 객체 모델과 메서드 조회에 대해 배웠다.</li>\n</ul>\n<h4>메서드 조회 리뷰</h4>\n<div class=\"gatsby-highlight\" data-language=\"ruby\"><pre class=\"language-ruby\"><code class=\"language-ruby\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">C</span>\n  <span class=\"token keyword\">def</span> <span class=\"token method-definition\"><span class=\"token function\">a_method</span></span>\n    <span class=\"token string\">'C#a_method()'</span>\n  <span class=\"token keyword\">end</span>\n<span class=\"token keyword\">end</span>\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">D</span> <span class=\"token operator\">&lt;</span> <span class=\"token constant\">C</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">end</span>\nobj <span class=\"token operator\">=</span> <span class=\"token constant\">D</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">new</span>\nobj<span class=\"token punctuation\">.</span>a_method    <span class=\"token comment\"># => \"C#a_method()\"</span></code></pre></div>\n<p><span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;'>\n      <a class='gatsby-resp-image-link' href='/static/960b45e28f8905cc3d8b3e5072a32662/fe9f0/class.jpg' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 92.94117647058823%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAATABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAIBBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAeZWUQAAD//EABcQAAMBAAAAAAAAAAAAAAAAAAAQQSD/2gAIAQEAAQUCIpj/xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAEDAQE/AR//xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAECAQE/AR//xAAUEAEAAAAAAAAAAAAAAAAAAAAw/9oACAEBAAY/Ah//xAAZEAABBQAAAAAAAAAAAAAAAAAAEBEgITH/2gAIAQEAAT8hUxlo/wD/2gAMAwEAAgADAAAAEJPPAP/EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQMBAT8QH//EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQIBAT8QH//EABsQAQACAgMAAAAAAAAAAAAAAAEAESFBECAx/9oACAEBAAE/EIF6Gat4LblKgxfo9f/Z'); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='class' title='class' src='/static/960b45e28f8905cc3d8b3e5072a32662/a22ce/class.jpg' srcset='/static/960b45e28f8905cc3d8b3e5072a32662/0b705/class.jpg 170w,\n/static/960b45e28f8905cc3d8b3e5072a32662/31389/class.jpg 340w,\n/static/960b45e28f8905cc3d8b3e5072a32662/a22ce/class.jpg 680w,\n/static/960b45e28f8905cc3d8b3e5072a32662/29373/class.jpg 1020w,\n/static/960b45e28f8905cc3d8b3e5072a32662/fe9f0/class.jpg 1078w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy'>\n  </a>\n    </span></p>\n<h4>싱글톤 클래스와 매서드의 조회</h4>\n<div class=\"gatsby-highlight\" data-language=\"ruby\"><pre class=\"language-ruby\"><code class=\"language-ruby\">obj <span class=\"token operator\">=</span> <span class=\"token builtin\">Object</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">new</span>\nobj<span class=\"token punctuation\">.</span>singleton_class  <span class=\"token comment\"># => #&lt;Class:#&lt;Object:0x007fd96909b588>></span></code></pre></div>\n<ul>\n<li>\n<h1>이 붙어있으면 싱글톤 클래스를 의미한다고 해보자</h1>\n<ul>\n<li>\n<h1>obj은 obj의 싱글톤 클래스 #C는 C의 싱글톤 클래스</h1>\n</li>\n</ul>\n</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"ruby\"><pre class=\"language-ruby\"><code class=\"language-ruby\"><span class=\"token keyword\">class</span> <span class=\"token operator\">&lt;</span><span class=\"token operator\">&lt;</span> obj\n  <span class=\"token keyword\">def</span> <span class=\"token method-definition\"><span class=\"token function\">a_singleton_method</span></span>\n    <span class=\"token string\">'obj#a_singleton_method()'</span>\n  <span class=\"token keyword\">end</span>\n<span class=\"token keyword\">end</span></code></pre></div>\n<ul>\n<li>싱글톤 클래스도 클래스이니 슈퍼 클래스가 있어야지?</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"ruby\"><pre class=\"language-ruby\"><code class=\"language-ruby\">obj<span class=\"token punctuation\">.</span>singleton_class<span class=\"token punctuation\">.</span>superclass   <span class=\"token comment\"># => D</span></code></pre></div>\n<p><span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;'>\n      <a class='gatsby-resp-image-link' href='/static/8111a91ee707bfa8c8c80f2819572f67/0a251/single.jpg' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 127.6470588235294%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAaABQDASIAAhEBAxEB/8QAGAABAQEBAQAAAAAAAAAAAAAAAAIBAwX/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAHzKmiQbfMawf/EABkQAAIDAQAAAAAAAAAAAAAAABBBABEgIf/aAAgBAQABBQKIIcrH/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAwEBPwEf/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAgEBPwEf/8QAFBABAAAAAAAAAAAAAAAAAAAAMP/aAAgBAQAGPwJP/8QAGRAAAwADAAAAAAAAAAAAAAAAAAEgESEx/9oACAEBAAE/ITEuhE+x/9oADAMBAAIAAwAAABCzwwz/xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAEDAQE/EB//xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAECAQE/EB//xAAbEAACAwEBAQAAAAAAAAAAAAABEQAhMRAgof/aAAgBAQABPxCAC1N6T0HJFPRwUv5MDvQzEZY68f/Z'); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='single.jpeg' title='single.jpeg' src='/static/8111a91ee707bfa8c8c80f2819572f67/a22ce/single.jpg' srcset='/static/8111a91ee707bfa8c8c80f2819572f67/0b705/single.jpg 170w,\n/static/8111a91ee707bfa8c8c80f2819572f67/31389/single.jpg 340w,\n/static/8111a91ee707bfa8c8c80f2819572f67/a22ce/single.jpg 680w,\n/static/8111a91ee707bfa8c8c80f2819572f67/0a251/single.jpg 1000w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy'>\n  </a>\n    </span></p>\n<h4>싱글톤 클래스 및 상속</h4>\n<div class=\"gatsby-highlight\" data-language=\"ruby\"><pre class=\"language-ruby\"><code class=\"language-ruby\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">C</span>\n  <span class=\"token keyword\">class</span> <span class=\"token operator\">&lt;</span><span class=\"token operator\">&lt;</span> <span class=\"token keyword\">self</span>\n    <span class=\"token keyword\">def</span> <span class=\"token method-definition\"><span class=\"token function\">a_class_method</span></span>\n      <span class=\"token string\">'C.a_class_method()'</span>\n    <span class=\"token keyword\">end</span>\n  <span class=\"token keyword\">end</span>\n<span class=\"token keyword\">end</span>\n<span class=\"token constant\">C</span><span class=\"token punctuation\">.</span>singleton_class<span class=\"token comment\"># => #&lt;Class:C></span>\n<span class=\"token constant\">D</span><span class=\"token punctuation\">.</span>singleton_class<span class=\"token comment\"># => #&lt;Class:D></span>\n<span class=\"token constant\">D</span><span class=\"token punctuation\">.</span>singleton_class<span class=\"token punctuation\">.</span>superclass<span class=\"token comment\"># => #&lt;Class:C></span>\n<span class=\"token constant\">C</span><span class=\"token punctuation\">.</span>singleton_class<span class=\"token punctuation\">.</span>superclass<span class=\"token comment\"># => #&lt;Class:Object></span></code></pre></div>\n<p><span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;'>\n      <a class='gatsby-resp-image-link' href='/static/77839a822a4856dc7f3c15891b1e6f6f/0a251/singleton.jpg' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 144.11764705882354%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAdABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAIDBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAeZU2QBpFEA//8QAFhAAAwAAAAAAAAAAAAAAAAAAEBEw/9oACAEBAAEFApMf/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAwEBPwEf/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAgEBPwEf/8QAFRABAQAAAAAAAAAAAAAAAAAAIDH/2gAIAQEABj8CdP8A/8QAGhAAAgMBAQAAAAAAAAAAAAAAARAAETEhUf/aAAgBAQABPyGAPzWD0Y4rhsMX/9oADAMBAAIAAwAAABCjyTz/xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAEDAQE/EB//xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAECAQE/EB//xAAcEAEAAgMAAwAAAAAAAAAAAAABABEQIUExYXH/2gAIAQEAAT8QlDaldncFX0rW/GUEQPRnYU4P0mtoax//2Q=='); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='single.jpeg' title='single.jpeg' src='/static/77839a822a4856dc7f3c15891b1e6f6f/a22ce/singleton.jpg' srcset='/static/77839a822a4856dc7f3c15891b1e6f6f/0b705/singleton.jpg 170w,\n/static/77839a822a4856dc7f3c15891b1e6f6f/31389/singleton.jpg 340w,\n/static/77839a822a4856dc7f3c15891b1e6f6f/a22ce/singleton.jpg 680w,\n/static/77839a822a4856dc7f3c15891b1e6f6f/0a251/singleton.jpg 1000w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy'>\n  </a>\n    </span></p>\n<ul>\n<li>C는 싱글톤클래스</li>\n<li>S는 슈퍼클래스</li>\n<li>이 다이어그램은 모듈이 포함되어있지 않다. 완전히 그리려면 Object와 BasicObject사이에 Kernel모듈을 그릴 수 있지만 굳이,</li>\n<li>모듈들은 다른 객체들처럼 싱글톤 클래스를 가질 수 있지만 커널의 싱글톤 클래스는 obj나 #D의 상위 체인의 일부가 아니다.</li>\n<li>싱글톤의 슈퍼클래스는 싱글톤클래스</li>\n<li>이런 배열 덕분에 하위 클래스에서 클래스 메서드 호출이 가능한 것</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"ruby\"><pre class=\"language-ruby\"><code class=\"language-ruby\"><span class=\"token constant\">D</span><span class=\"token punctuation\">.</span>a_class_method <span class=\"token comment\"># => \"C.a_class_method()\"</span></code></pre></div>\n<ul>\n<li>a<em>class</em>method 가 C에 정의되어 있더라도 D에도 호출이 가능하다.</li>\n<li>메서드 조회가 #D에서 시작하여 #D의 #C로 올라가서 메서드를 찾기 때문에 가능하다.</li>\n</ul>\n<h4>The Great Unified Theory</h4>\n<ul>\n<li>클래스, 싱글톤 클래스, 모듈이 있다.</li>\n<li>인스턴스 메서드, 클래스 메서드, 싱글톤 메서드가 있다.</li>\n<li>싱글톤 클래스를 클래스와 모듈과 함께 사용하면 루비 객체 모델의 7가지 규칙이 나온다.</li>\n<li>객체는 한 가지 종류만 있다. 일반 객체 혹은 모듈</li>\n<li>모듈은 한가지 종류만 있다. 일반 모듈, 클래스 또는 싱글톤 클래스</li>\n<li>한 가지 종류의 메서드가 있다. - 모듈에서 살고 대부분 클래스 안에 있다.</li>\n<li>모든 객체, 클래스는 실제 클래스를 가진다 - 일반 클래스 혹은 싱글톤 클래스</li>\n<li>BasicObject를 제외한 모든 클래스에는 정확히 하나의 상위 클래스가 있다. - 즉 모든 클래스의 상위 항목부터 BasicObject까지의 체인을 가짐</li>\n<li>객체의 싱글톤 클래스의 슈퍼클래스는 객체의 클래스이다. 한 클래스의 싱글톤 슈퍼클래스는 그 클래스의 싱글톤 클래스이다.</li>\n<li>메서드를 호출하면 오른쪽으로 클래스로, 이동한 다음 조상 체인을 올라간다.</li>\n</ul>\n<h4>Class Methods Syntaxes</h4>\n<ul>\n<li>클래스 메서드는 클래스의 싱글톤 클래스에 있는 싱글톤 메서드이므로 이제 세 가지 방법을 사용 가능</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"ruby\"><pre class=\"language-ruby\"><code class=\"language-ruby\"><span class=\"token keyword\">def</span> <span class=\"token method-definition\"><span class=\"token constant\">MyClass</span><span class=\"token punctuation\">.</span><span class=\"token function\">a_class_method</span></span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">end</span>\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">MyClass</span>\n  <span class=\"token keyword\">def</span> <span class=\"token method-definition\"><span class=\"token keyword\">self</span><span class=\"token punctuation\">.</span><span class=\"token function\">another_class_method</span></span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">end</span>\n<span class=\"token keyword\">end</span>\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">MyClass</span>\n  <span class=\"token keyword\">class</span> <span class=\"token operator\">&lt;</span><span class=\"token operator\">&lt;</span> <span class=\"token keyword\">self</span>\n    <span class=\"token keyword\">def</span> <span class=\"token method-definition\"><span class=\"token function\">yet_another_class_method</span></span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">end</span>\n  <span class=\"token keyword\">end</span>\n<span class=\"token keyword\">end</span></code></pre></div>\n<ul>\n<li>첫 번째는 클래스 이름이 중복되어 래팩터링이 어려우므로 ..</li>\n<li>\n<p>세 번째는 trickiest , 싱글톤 클래스를 열고 메서드를 정의,</p>\n<ul>\n<li>싱글톤 클래스를 명시적으로 인정하므로 쫌 치는 느낌이 난다.</li>\n</ul>\n</li>\n</ul>\n<h4>싱글톤 클래스와 instance_eval()</h4>\n<ul>\n<li>instance<em>eval은 객체만 변화하고 class</em>eval은 자신과 current class 모두 변화한다고 배웠다.</li>\n<li>하지만 instance_eval은 current class도 변경한다 - 수신자의 싱글톤 클래스도 변경한다.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"ruby\"><pre class=\"language-ruby\"><code class=\"language-ruby\">s1<span class=\"token punctuation\">,</span> s2 <span class=\"token operator\">=</span> <span class=\"token string\">\"abc\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"def\"</span>\ns1<span class=\"token punctuation\">.</span>instance_eval <span class=\"token keyword\">do</span>\n  <span class=\"token keyword\">def</span> <span class=\"token method-definition\"><span class=\"token function\">swoosh</span></span><span class=\"token operator\">!</span><span class=\"token punctuation\">;</span> reverse<span class=\"token punctuation\">;</span> <span class=\"token keyword\">end</span>\n<span class=\"token keyword\">end</span>\ns1<span class=\"token punctuation\">.</span>swoosh<span class=\"token operator\">!</span>                <span class=\"token comment\"># => \"cba\"</span>\ns2<span class=\"token punctuation\">.</span>respond_to<span class=\"token operator\">?</span><span class=\"token punctuation\">(</span><span class=\"token symbol\">:swoosh!</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># => false</span></code></pre></div>\n<h4>클래스 속성</h4>\n<ul>\n<li>attr_*을 기억하는가?</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"ruby\"><pre class=\"language-ruby\"><code class=\"language-ruby\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">MyClass</span>\n  attr_accessor <span class=\"token symbol\">:a</span>\n<span class=\"token keyword\">end</span>\nobj <span class=\"token operator\">=</span> <span class=\"token constant\">MyClass</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">new</span>\nobj<span class=\"token punctuation\">.</span>a <span class=\"token operator\">=</span> <span class=\"token number\">2</span>\nobj<span class=\"token punctuation\">.</span>a</code></pre></div>\n<ul>\n<li>대신 클래스에 속성을 정의하려면?</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"ruby\"><pre class=\"language-ruby\"><code class=\"language-ruby\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">MyClass</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">end</span>\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">Class</span>\n  attr_accessor <span class=\"token symbol\">:b</span>\n<span class=\"token keyword\">end</span>\n<span class=\"token constant\">MyClass</span><span class=\"token punctuation\">.</span>b <span class=\"token operator\">=</span> <span class=\"token number\">42</span>\n<span class=\"token constant\">MyClass</span><span class=\"token punctuation\">.</span>b      <span class=\"token comment\"># => 42</span></code></pre></div>\n<ul>\n<li>동작이야 하겠지만 모든 클래스에 속성이 추가됨, MyClass에 특화된 속성을 원한다면..</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"ruby\"><pre class=\"language-ruby\"><code class=\"language-ruby\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">MyClass</span>\n  <span class=\"token keyword\">class</span> <span class=\"token operator\">&lt;</span><span class=\"token operator\">&lt;</span> <span class=\"token keyword\">self</span>\n    attr_accessor <span class=\"token symbol\">:c</span>\n  <span class=\"token keyword\">end</span>\n<span class=\"token keyword\">end</span>\n<span class=\"token constant\">MyClass</span><span class=\"token punctuation\">.</span>c <span class=\"token operator\">=</span> <span class=\"token string\">'It works!'</span>\n<span class=\"token constant\">MyClass</span><span class=\"token punctuation\">.</span>c</code></pre></div>\n<ul>\n<li>attribute는 단지 한쌍의 메서드이다.</li>\n<li>이런 메서드를 정의하면 클래스 메서드가 되는 것</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"ruby\"><pre class=\"language-ruby\"><code class=\"language-ruby\"><span class=\"token keyword\">def</span> <span class=\"token method-definition\"><span class=\"token constant\">MyClass</span><span class=\"token punctuation\">.</span><span class=\"token function\">c</span></span><span class=\"token operator\">=</span><span class=\"token punctuation\">(</span>value<span class=\"token punctuation\">)</span>\n  <span class=\"token variable\">@c</span> <span class=\"token operator\">=</span> value\n<span class=\"token keyword\">end</span>\n<span class=\"token keyword\">def</span> <span class=\"token method-definition\"><span class=\"token constant\">MyClass</span><span class=\"token punctuation\">.</span><span class=\"token function\">c</span></span>\n  <span class=\"token variable\">@c</span>\n<span class=\"token keyword\">end</span></code></pre></div>\n<h2>Method Wrappers</h2>\n<div class=\"gatsby-highlight\" data-language=\"ruby\"><pre class=\"language-ruby\"><code class=\"language-ruby\"><span class=\"token keyword\">def</span> <span class=\"token method-definition\"><span class=\"token function\">deserves_a_look</span></span><span class=\"token operator\">?</span><span class=\"token punctuation\">(</span>book<span class=\"token punctuation\">)</span>\n  amazon <span class=\"token operator\">=</span> <span class=\"token constant\">Amazon</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">new</span>\n  amazon<span class=\"token punctuation\">.</span>reviews_of<span class=\"token punctuation\">(</span>book<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>size <span class=\"token operator\">></span> <span class=\"token number\">20</span>\n<span class=\"token keyword\">end</span></code></pre></div>\n<ul>\n<li>라이브러리 사용 예시</li>\n<li>대부분 작동하지만 예외 관리가 안된다.</li>\n<li>Amazon이 원격 호출이 실패하면 이 문제를 기록하고 진행해야한다.</li>\n<li>라이브러리를 직접 수정하고 싶지 않다 라는 문제</li>\n<li>모든 클라이언트가 자동으로 추가 기능을 사용할 수 있도록 메서드를 사용하여 추가 기능을 래핑하려고 한다.</li>\n</ul>\n<h3>Around Aliases</h3>\n<ul>\n<li>별칭 사용이 가능하다</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"ruby\"><pre class=\"language-ruby\"><code class=\"language-ruby\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">MyClass</span>\n  <span class=\"token keyword\">def</span> <span class=\"token method-definition\"><span class=\"token function\">my_method</span></span><span class=\"token punctuation\">;</span> <span class=\"token string\">'my_method()'</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">end</span>\n  alias_method <span class=\"token symbol\">:m</span><span class=\"token punctuation\">,</span> <span class=\"token symbol\">:my_method</span>\n<span class=\"token keyword\">end</span>\nobj <span class=\"token operator\">=</span> <span class=\"token constant\">MyClass</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">new</span>\nobj<span class=\"token punctuation\">.</span>my_method   <span class=\"token comment\"># => \"my_method()\"</span>\nobj<span class=\"token punctuation\">.</span>m           <span class=\"token comment\"># => \"my_method()\"</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">MyClass</span>\n  alias_method <span class=\"token symbol\">:m2</span><span class=\"token punctuation\">,</span> <span class=\"token symbol\">:m</span>\n<span class=\"token keyword\">end</span>\nobj<span class=\"token punctuation\">.</span>m2           <span class=\"token comment\"># => \"my_method()\"</span></code></pre></div>\n<ul>\n<li>흔한 예시임, String#size, String#length, Integer클래스는 5개 이상의 다른 이름을 가진 메서드를 갖고있다.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"ruby\"><pre class=\"language-ruby\"><code class=\"language-ruby\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">String</span>\n  alias_method <span class=\"token symbol\">:real_length</span><span class=\"token punctuation\">,</span> <span class=\"token symbol\">:length</span>\n  <span class=\"token keyword\">def</span> <span class=\"token method-definition\"><span class=\"token function\">length</span></span>\n    real_length <span class=\"token operator\">></span> <span class=\"token number\">5</span> <span class=\"token operator\">?</span> <span class=\"token string\">'long'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'short'</span>\n  <span class=\"token keyword\">end</span>\n<span class=\"token keyword\">end</span>\n<span class=\"token string\">\"War and Peace\"</span><span class=\"token punctuation\">.</span>length      <span class=\"token comment\"># => \"long\"</span>\n<span class=\"token string\">\"War and Peace\"</span><span class=\"token punctuation\">.</span>real_length <span class=\"token comment\"># => 13</span></code></pre></div>\n<ul>\n<li>method를 재정의하지만 별칭은 여전히 원래 메서드를 참조한다.</li>\n<li>재정의 시 메서드는 실제로 변경되지 않는다. 기존 이름을 해당 새 메서드에 연결할 뿐</li>\n<li>흥미로운 예시임</li>\n</ul>\n<h3>The Thor Example</h3>\n<ul>\n<li>cli utilities를 만드는 잼임</li>\n<li>Rake2thor라는 프로그램이 포함되어 있는데 이 프로그램은 빌드 파일을 토르 스크립트로 변환함</li>\n<li>Rake2thor는 레이크 파일을 로드하고 해당 레이크 파일에 필요한 모든 파일의 이름을 저장해야한다.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"ruby\"><pre class=\"language-ruby\"><code class=\"language-ruby\">input  <span class=\"token operator\">=</span> <span class=\"token constant\">ARGV</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">||</span> <span class=\"token string\">'Rakefile'</span>\n<span class=\"token variable\">$requires</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n<span class=\"token keyword\">module</span> <span class=\"token constant\">Kernel</span>\n  <span class=\"token keyword\">def</span> <span class=\"token method-definition\"><span class=\"token function\">require_with_record</span></span><span class=\"token punctuation\">(</span>file<span class=\"token punctuation\">)</span>\n    <span class=\"token variable\">$requires</span> <span class=\"token operator\">&lt;</span><span class=\"token operator\">&lt;</span> file <span class=\"token keyword\">if</span> caller<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span><span class=\"token operator\">~</span> <span class=\"token regex\">/rake2thor:/</span>\n    require_without_record file\n  <span class=\"token keyword\">end</span>\n  alias_method <span class=\"token symbol\">:require_without_record</span><span class=\"token punctuation\">,</span> <span class=\"token symbol\">:require</span>\n  alias_method <span class=\"token symbol\">:require</span><span class=\"token punctuation\">,</span> <span class=\"token symbol\">:require_with_record</span>\n<span class=\"token keyword\">end</span>\nload input</code></pre></div>\n<ul>\n<li>필요한 파일의 이름을 저장할 글로벌 어레이를 준비하고, 커널 모듈을 열고 메서드 별칭으로 몇 가지 트릭을 쓴다.</li>\n<li>그러고 마지막으로 rakefile을 로드한다.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"ruby\"><pre class=\"language-ruby\"><code class=\"language-ruby\"><span class=\"token keyword\">module</span> <span class=\"token constant\">Kernel</span>\n  alias_method <span class=\"token symbol\">:require_without_record</span><span class=\"token punctuation\">,</span> <span class=\"token symbol\">:require</span>\n  <span class=\"token keyword\">def</span> <span class=\"token method-definition\"><span class=\"token function\">require</span></span><span class=\"token punctuation\">(</span>file<span class=\"token punctuation\">)</span>\n    <span class=\"token variable\">$requires</span> <span class=\"token operator\">&lt;</span><span class=\"token operator\">&lt;</span> file <span class=\"token keyword\">if</span> caller<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span><span class=\"token operator\">~</span> <span class=\"token regex\">/rake2thor:/</span>\n    require_without_record file\n  <span class=\"token keyword\">end</span>\n<span class=\"token keyword\">end</span></code></pre></div>\n<ul>\n<li>단순화된 버전임</li>\n<li>\n<p>위의 오픈클래스는 세 가지 일을 함</p>\n<ol>\n<li>Kernel#require 을 다른 이름으로 별칭화</li>\n<li>Monkeypatch는 rakefile에 필요한 require하는 이름들을 저장한다.</li>\n<li>마지막으로 원래 요구사항으로 돌아가고, 걔는 require<em>without</em>record라고 불리는 메서드로 별칭</li>\n</ol>\n</li>\n<li>이 속임수를 around alias로 부름</li>\n<li>\n<p>Around Alias 작성법</p>\n<ol>\n<li>Alias a method</li>\n<li>Redefine it</li>\n<li>Call the old method from the new method</li>\n</ol>\n</li>\n<li>\n<p>additional method name으로 클래스를 오염시킨다.</p>\n<ul>\n<li>구 버전의 메서드를 별칭으로 지정한 후 비공개로 만들면 해결 가능</li>\n</ul>\n</li>\n<li>로딩과 관련된 잠재적인 문제, around method를 두 번 로드하면 안된다.</li>\n<li>Monkey patch의 한 형태이다..... 따라서 이런 추가적인 기능을 래핑하는 두 가지 방법을 추가로 도입</li>\n</ul>\n<h3>More Method Wrappers</h3>\n<div class=\"gatsby-highlight\" data-language=\"ruby\"><pre class=\"language-ruby\"><code class=\"language-ruby\"><span class=\"token keyword\">module</span> <span class=\"token constant\">StringRefinement</span>\n  refine <span class=\"token builtin\">String</span> <span class=\"token keyword\">do</span>\n    <span class=\"token keyword\">def</span> <span class=\"token method-definition\"><span class=\"token function\">length</span></span>\n      <span class=\"token keyword\">super</span> <span class=\"token operator\">></span> <span class=\"token number\">5</span> <span class=\"token operator\">?</span> <span class=\"token string\">'long'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'short'</span>\n    <span class=\"token keyword\">end</span>\n  <span class=\"token keyword\">end</span>\n<span class=\"token keyword\">end</span>\nusing <span class=\"token constant\">StringRefinement</span>\n<span class=\"token string\">\"War and Peace\"</span><span class=\"token punctuation\">.</span>length      <span class=\"token comment\"># => \"long\"</span></code></pre></div>\n<ul>\n<li>around alias보다는 일반적으로 안전하다.</li>\n<li>파일 끝, 혹은 모듈 정의 까지만 정의됨</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"ruby\"><pre class=\"language-ruby\"><code class=\"language-ruby\"><span class=\"token keyword\">module</span> <span class=\"token constant\">ExplicitString</span>\n  <span class=\"token keyword\">def</span> <span class=\"token method-definition\"><span class=\"token function\">length</span></span>\n    <span class=\"token keyword\">super</span> <span class=\"token operator\">></span> <span class=\"token number\">5</span> <span class=\"token operator\">?</span> <span class=\"token string\">'long'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'short'</span>\n  <span class=\"token keyword\">end</span>\n<span class=\"token keyword\">end</span>\n<span class=\"token builtin\">String</span><span class=\"token punctuation\">.</span>class_eval <span class=\"token keyword\">do</span>\n  <span class=\"token keyword\">prepend</span> <span class=\"token constant\">ExplicitString</span>\n<span class=\"token keyword\">end</span>\n<span class=\"token string\">\"War and Peace\"</span><span class=\"token punctuation\">.</span>length      <span class=\"token comment\"># => \"long\"</span></code></pre></div>\n<ul>\n<li>prepend wrapper로 사용 가능함</li>\n<li>로컬적이지는 않지만 refine이나 어라운드 별칭보다 더 깨끗하고 명확하다고 여겨진다.</li>\n</ul>\n<h3>Solving the Amazon Problem</h3>\n<div class=\"gatsby-highlight\" data-language=\"ruby\"><pre class=\"language-ruby\"><code class=\"language-ruby\"><span class=\"token keyword\">module</span> <span class=\"token constant\">AmazonWrapper</span>\n  <span class=\"token keyword\">def</span> <span class=\"token method-definition\"><span class=\"token function\">reviews_of</span></span><span class=\"token punctuation\">(</span>book<span class=\"token punctuation\">)</span>\n    start <span class=\"token operator\">=</span> <span class=\"token builtin\">Time</span><span class=\"token punctuation\">.</span>now\n    result <span class=\"token operator\">=</span> <span class=\"token keyword\">super</span>\n    time_taken <span class=\"token operator\">=</span> <span class=\"token builtin\">Time</span><span class=\"token punctuation\">.</span>now <span class=\"token operator\">-</span> start\n    puts <span class=\"token string\">\"reviews_of() took more than <span class=\"token interpolation\"><span class=\"token delimiter tag\">#{</span>time_taken<span class=\"token delimiter tag\">}</span></span> seconds\"</span> <span class=\"token keyword\">if</span> time_taken <span class=\"token operator\">></span> <span class=\"token number\">2</span>\n    result\n  <span class=\"token keyword\">rescue</span>\n    puts <span class=\"token string\">\"reviews_of() failed\"</span>\n    <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n  <span class=\"token keyword\">end</span>\n<span class=\"token keyword\">end</span>\n<span class=\"token constant\">Amazon</span><span class=\"token punctuation\">.</span>class_eval <span class=\"token keyword\">do</span>\n  <span class=\"token keyword\">prepend</span> <span class=\"token constant\">AmazonWrapper</span>\n<span class=\"token keyword\">end</span></code></pre></div>\n<h2>Wrap-Up</h2>\n<ul>\n<li>클래스 정의에서의 self ( 메서드 호출의 기본 수신기 ) 및 current class ( 정의하는 메서드의 기본 홈 ) 에 미치는 영향</li>\n<li>signle tone method 및 signleton 클래스를 통해 객체 모델 및 메서드 검색에 대한 새로운 인사이트</li>\n<li>클래스 인스턴스 변수, 클래스 매크로 및 래퍼를 포함한 여러가지 트릭</li>\n<li>클래스에 대해 배운 모든 것을 모듈에 적용 가능함 - 클래스 인스턴스 변수는 모듈 인스턴스 변수일 수 있음</li>\n</ul>","frontmatter":{"title":"M Ruby - 5. Class Definitions","date":"April 29, 2021","update":"April 29, 2021","tags":["ruby","book"],"series":"Metaprogramming Ruby"},"fields":{"slug":"/metaprogramming-ruby-5/","readingTime":{"minutes":11.995}}},"seriesList":{"edges":[{"node":{"id":"34257cb7-20bf-52a1-a751-44435c07aa96","fields":{"slug":"/metaprogramming-ruby-1/"},"frontmatter":{"title":"M Ruby - 1"}}},{"node":{"id":"3ab153c7-ef8e-5540-a0ec-ee7551892012","fields":{"slug":"/metaprogramming-ruby-2/"},"frontmatter":{"title":"M Ruby - 2. The Object Model"}}},{"node":{"id":"ab0c5e49-f893-5aaf-8315-c183e6f9df3c","fields":{"slug":"/metaprogramming-ruby-3/"},"frontmatter":{"title":"M Ruby - 3. Methods"}}},{"node":{"id":"ba539d0b-e3b6-507e-90b2-12083666ad46","fields":{"slug":"/metaprogramming-ruby-4/"},"frontmatter":{"title":"M Ruby - 4. Blocks"}}},{"node":{"id":"10646ae4-ced4-5411-87f6-7011a8f5c108","fields":{"slug":"/metaprogramming-ruby-5/"},"frontmatter":{"title":"M Ruby - 5. Class Definitions"}}},{"node":{"id":"9d128593-da43-521b-832e-ff48a726844c","fields":{"slug":"/metaprogramming-ruby-6/"},"frontmatter":{"title":"M Ruby - 6. Code That Writes Code"}}},{"node":{"id":"02c9824b-fff1-5517-bcd6-eb7690b1fc5a","fields":{"slug":"/metaprogramming-ruby-9/"},"frontmatter":{"title":"M Ruby - 9. The Design of Active Record"}}},{"node":{"id":"a48856b7-f3f6-56ca-a8f2-bf55cd90c62f","fields":{"slug":"/metaprogramming-ruby-10/"},"frontmatter":{"title":"M Ruby - 10. Active Support's Concern Module"}}},{"node":{"id":"b76117b8-cdf6-5fdb-a207-d3bada809e8d","fields":{"slug":"/metaprogramming-ruby-11/"},"frontmatter":{"title":"M Ruby - 11.alias_method_chain의 흥망성쇠"}}},{"node":{"id":"6d902f10-0216-599c-8523-7c663a9a2027","fields":{"slug":"/metaprogramming-ruby-12/"},"frontmatter":{"title":"M Ruby - 12. Attribute Methods의 진화"}}}]},"previous":{"fields":{"slug":"/metaprogramming-ruby-4/"},"frontmatter":{"title":"M Ruby - 4. Blocks"}},"next":{"fields":{"slug":"/metaprogramming-ruby-6/"},"frontmatter":{"title":"M Ruby - 6. Code That Writes Code"}}},"pageContext":{"id":"10646ae4-ced4-5411-87f6-7011a8f5c108","series":"Metaprogramming Ruby","previousPostId":"ba539d0b-e3b6-507e-90b2-12083666ad46","nextPostId":"9d128593-da43-521b-832e-ff48a726844c"}},"staticQueryHashes":[]}