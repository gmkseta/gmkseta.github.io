{"componentChunkName":"component---src-templates-post-jsx","path":"/4-pgconnectbad/","result":{"data":{"site":{"siteMetadata":{"title":"Seongjun Kim Blog"}},"markdownRemark":{"id":"ae390cb5-0f32-5525-9ffc-204ebb1321a2","excerpt":"레일즈 - postgres를 사용할떄 자주 본 에러이다. 맥북 사용 시 다른 맥북 유저에 비해 맥북을 잘 꺼두는 편이였는데, 끌 때 정상적으로 종료시키지 않아서 발생하는 문제 같았다. 프로세스를 제대로 종료하지 않고 노트북이 꺼지는 바람에 pid 파일을 제대로 지우지 못한 탓이다. 이미 pid파일이 있다면 postgres은 제대로 실행되지 못한다. 해결 …","html":"<p>레일즈 - postgres를 사용할떄 자주 본 에러이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">PG::ConnectionBad - could not connect to server: Connection refused</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token punctuation\">..</span>.\nStarted GET <span class=\"token string\">\"/\"</span> <span class=\"token keyword\">for</span> <span class=\"token number\">127.0</span>.0.1 at <span class=\"token number\">2020</span>-01-06 03:12:32 +0900\n\nPG::ConnectionBad - could not connect to server: Connection refused\nIs the server running on <span class=\"token function\">host</span> <span class=\"token string\">\"localhost\"</span> <span class=\"token punctuation\">(</span>::1<span class=\"token punctuation\">)</span> and accepting\n<span class=\"token punctuation\">..</span>.</code></pre></div>\n<p>맥북 사용 시 다른 맥북 유저에 비해 맥북을 잘 꺼두는 편이였는데, 끌 때 정상적으로 종료시키지 않아서 발생하는 문제 같았다.</p>\n<p>프로세스를 제대로 종료하지 않고 노트북이 꺼지는 바람에 pid 파일을 제대로 지우지 못한 탓이다.</p>\n<p>이미 pid파일이 있다면 postgres은 제대로 실행되지 못한다.</p>\n<h3>해결 방법</h3>\n<ol>\n<li><code class=\"language-text\">/usr/local/var/postgres</code> 혹은 <code class=\"language-text\">/usr/var/postgres</code> 에서 <code class=\"language-text\">postmaster.pid</code> 가 존재하는지 확인\n있다면 지운다\n<br/>\n<code class=\"language-text\">rm postmaster.pid</code></li>\n<li>postgresql을 재 실행 한다.\nmac : <code class=\"language-text\">brew services restart postgresql</code>\nlinux : <code class=\"language-text\">sudo service postgresql restart</code></li>\n</ol>","frontmatter":{"title":"PG:ConnectionBad - could not connect to server: Connection refused","date":"March 24, 2021","update":"March 24, 2021","tags":["Rails","Postgresql","mac","linux","짧","팁"],"series":null},"fields":{"slug":"/4-pgconnectbad/","readingTime":{"minutes":0.615}}},"seriesList":{"edges":[{"node":{"id":"15b51d30-c078-53de-a25e-48039f097339","fields":{"slug":"/3-mount/"},"frontmatter":{"title":"Ubuntu 에서 (외장) 하드디스크 사용하기 "}}},{"node":{"id":"ae390cb5-0f32-5525-9ffc-204ebb1321a2","fields":{"slug":"/4-pgconnectbad/"},"frontmatter":{"title":"PG:ConnectionBad - could not connect to server: Connection refused"}}},{"node":{"id":"ecda0f77-0b85-5ca7-b7e1-02b52c277c4d","fields":{"slug":"/23-InfraStructureAsCode/"},"frontmatter":{"title":"Infrastructure as code"}}},{"node":{"id":"0106d6fa-95ca-57ce-b105-a61ccc1bfe48","fields":{"slug":"/26-difference-between-binary-semaphore-and-mutex/"},"frontmatter":{"title":"Binary Semaphore vs Mutex"}}},{"node":{"id":"9b992cd0-63e6-58c6-9932-8635b1c6296f","fields":{"slug":"/sudo-with-touch-id/"},"frontmatter":{"title":"터미널에서 비밀번호 말고 touch id로 sudo 쓰기"}}},{"node":{"id":"8dfb02e2-4517-5ee9-8a31-a3558811607e","fields":{"slug":"/gh-pages-cname/"},"frontmatter":{"title":"gh-pages, custom domain(cname) 적용 안 될 때 (gatsby-gh-pages-action)"}}},{"node":{"id":"471fd508-4593-5513-aaed-79bff70247a9","fields":{"slug":"/op-ssh/"},"frontmatter":{"title":"1password + ssh key password"}}},{"node":{"id":"e310aca0-ac3a-5c50-a84e-cacf6da37a52","fields":{"slug":"/https-and-ssl/"},"frontmatter":{"title":"HTTPS 와 SSL"}}},{"node":{"id":"dd1d3e00-4e08-55dc-9e58-b09bb83c5961","fields":{"slug":"/https-and-ssl-2/"},"frontmatter":{"title":"HTTPS 와 SSL - 2"}}},{"node":{"id":"75217705-7603-5d83-8492-2112ee48b14b","fields":{"slug":"/single-point-of-failure/"},"frontmatter":{"title":"단일 장애 지점(SPOF)이란? Single Point of Failure"}}},{"node":{"id":"1661f2df-49ed-52ff-a108-89ffa05b6889","fields":{"slug":"/rate-limit/"},"frontmatter":{"title":"처리율 제한 Rate Limit"}}}]},"previous":{"fields":{"slug":"/3-mount/"},"frontmatter":{"title":"Ubuntu 에서 (외장) 하드디스크 사용하기 "}},"next":{"fields":{"slug":"/metaprogramming-ruby-1/"},"frontmatter":{"title":"M Ruby - 1"}}},"pageContext":{"id":"ae390cb5-0f32-5525-9ffc-204ebb1321a2","series":null,"previousPostId":"15b51d30-c078-53de-a25e-48039f097339","nextPostId":"34257cb7-20bf-52a1-a751-44435c07aa96"}},"staticQueryHashes":[]}